---
sidebar_label: 'Sign in process'
sidebar_position: 1
---

import { GLink } from '@site/src/components';

# Sign Up (Process)

- [Sign Up (Process)](#sign-up-process)
  - [Identity confirmation](#identity-confirmation)
  - [Saving identity informations](#saving-identity-informations)
  - [Settings authentication methods](#settings-authentication-methods)

Sign up process is a way to **create new identity** in the
**<GLink>IDM</GLink>** and bind it to an real person. The process must include
those three steps:

1. a way to confirm real person identity in some trustworthy way
   (confirmation via email)
1. saving required personal informations
   (fullname, phone number, profile picture)
1. setting authentication methods for later
   [signin](/docs/processes/signin.process)

---

## Identity confirmation

Identity confirmation is a process to verify that user is a person who it claims
to be. **<GLink>IDM</GLink>** implements as basic identity confirmation a
**verification via email**. Such a confirmation gives us a certainty, that the
user is an authorized holder of provided email. Later on, once this process is
completed, we can add another identity confirmation mechanism into the identity
account management.

After providing his email on first step of signin process, user will recieve
a message into his mailbox with <GLink>OTP</GLink> in form of a code and
will be asked to fill the code into a form in signin page.

### Guessing <GLink>OTP</GLink>

**Risk**: an attacker can try to impersonate an identity without having access
to related mailbox by guessing the <GLink>OTP</GLink> value. In order to be
able to guess a value of random <GLink>OTP</GLink>, the value must be
simply guessable or the attacker must have a reasonable space in time to run as
many guess attempts as quick as he needs.

**Remediation**: We have to make the <GLink>OTP</GLink> hard to guess and
limit its usage in time. Therefor the <GLink>OTP</GLink>

- is generated by cryptographically safe method (`crypto.randomBytes`)
- it\`s usage is limitted by **3 attempts**.
- expires after period of **one hour**

### Why <GLink>OTP</GLink> code instead of a link

The <GLink>OTP</GLink> code will allow the user to stay in browser on the
same page. (To not have interrupted experience)

---

### Should we use <GLink>CSRF</GLink>

## Saving identity informations

## Settings authentication methods
